{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://ai-vector-ui-generator/schema/ui_asset.schema.json",
  "title": "Vector UI Button Asset",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "assetType",
    "viewBox",
    "layers"
  ],
  "properties": {
    "assetType": {
      "type": "string",
      "enum": ["button"]
    },
    "viewBox": {
      "type": "array",
      "description": "SVG viewBox [x, y, width, height] (integers)",
      "minItems": 4,
      "maxItems": 4,
      "items": {
        "type": "integer",
        "minimum": 0,
        "maximum": 4096
      }
    },
    "metadata": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string", "maxLength": 120 },
        "description": { "type": "string", "maxLength": 500 }
      }
    },
    "layers": {
      "type": "array",
      "minItems": 1,
      "maxItems": 16,
      "items": { "$ref": "#/definitions/layer" }
    }
  },
  "definitions": {
    "token": {
      "type": "string",
      "pattern": "^[a-z][a-z0-9_-]*(\\.[A-Za-z0-9_-]+)+$",
      "minLength": 3,
      "maxLength": 64
    },
    "finiteNumber": {
      "type": "number",
      "multipleOf": 0.01,
      "minimum": -4096,
      "maximum": 4096
    },
    "positiveLength": {
      "type": "number",
      "multipleOf": 0.01,
      "exclusiveMinimum": 0,
      "maximum": 4096
    },
    "nonNegativeLength": {
      "type": "number",
      "multipleOf": 0.01,
      "minimum": 0,
      "maximum": 4096
    },
    "roundedRect": {
      "type": "object",
      "additionalProperties": false,
      "required": ["x", "y", "width", "height", "radius"],
      "properties": {
        "x": { "$ref": "#/definitions/finiteNumber" },
        "y": { "$ref": "#/definitions/finiteNumber" },
        "width": { "$ref": "#/definitions/positiveLength" },
        "height": { "$ref": "#/definitions/positiveLength" },
        "radius": { "$ref": "#/definitions/nonNegativeLength" }
      }
    },
    "style": {
      "type": "object",
      "additionalProperties": false,
      "required": ["fill"],
      "properties": {
        "fill": { "$ref": "#/definitions/token" },
        "stroke": { "$ref": "#/definitions/token" },
        "strokeWidth": { "$ref": "#/definitions/nonNegativeLength" },
        "glow": { "$ref": "#/definitions/token" }
      }
    },
    "layer": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id", "shape", "rect", "style"],
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^[a-z][a-z0-9_-]*$",
          "minLength": 1,
          "maxLength": 64
        },
        "name": { "type": "string", "maxLength": 80 },
        "shape": { "type": "string", "enum": ["roundedRect"] },
        "rect": { "$ref": "#/definitions/roundedRect" },
        "style": { "$ref": "#/definitions/style" }
      }
    }
  }
}
